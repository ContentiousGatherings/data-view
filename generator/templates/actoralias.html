{% extends "base.html" %}
{% from "_partials/status_badge.html" import status_badge %}
{% from "_partials/record_link.html" import record_link, simple_link %}

{% block title %}Actor Alias {{ entity.id }} - CG Review{% endblock %}

{% block content %}
<nav class="breadcrumb">
    <a href="{{ base_url }}/">Home</a> &raquo;
    <a href="{{ base_url }}/actoralias/">Actor Aliases</a> &raquo;
    {{ entity.alias }}
</nav>

<div class="entity-header">
    <h1>{{ entity.alias }}</h1>
    {{ status_badge(status, status_reason) }}
</div>

{% if status_reason %}
<div class="status-reason {{ status }}">
    <strong>Reason:</strong> {{ status_reason }}
</div>
{% endif %}

<section class="entity-details">
    <h2>Alias Details</h2>

    <dl class="detail-list">
        <dt>Alias</dt>
        <dd>{{ entity.alias }}</dd>

        <dt>Normalized</dt>
        <dd><code>{{ entity.alias_normalized }}</code></dd>

        <dt>Authoritative Actor</dt>
        <dd>{{ simple_link('authoritativeactor', entity.authoritative_actor_id, 'Auth. Actor #' ~ entity.authoritative_actor_id) }}</dd>
    </dl>
</section>

{% if auth_actor %}
<section class="related-entities">
    <h2>Authoritative Actor</h2>
    <dl class="detail-list">
        <dt>Name</dt>
        <dd><a href="{{ base_url }}/authoritativeactor/{{ auth_actor.id }}/">{{ auth_actor.name }}</a></dd>
        <dt>Type</dt>
        <dd>{{ auth_actor.actor_type }}</dd>
        {% if auth_actor.description %}
        <dt>Description</dt>
        <dd>{{ auth_actor.description }}</dd>
        {% endif %}
    </dl>
</section>
{% endif %}

<section class="actions">
    <a href="{{ make_issue_url('actoralias', entity.id, {
        'Alias': entity.alias,
        'Normalized': entity.alias_normalized,
        'Auth Actor': entity.authoritative_actor_id|string
    }) }}" class="btn btn-report" target="_blank">
        Report Problem
    </a>
</section>
{% endblock %}
